# Домашние задания

## h/w #1 (Lesson 1. Database design)
- [x] cпроектировать базу данных 
- [x] Реализуйте сущности продукты, категории продуктов, цены, поставщики, производители, покупатели и покупки. Свои решения для этой схемы приветствуются 
- [x] В проекте должны быть 
  - [x] схема 
  - [x] описание таблиц и полей 
  - [x] примеры бизнес-задач которые решает база

### Реализованные сущности (структура БД, описание таблиц и полей находится [тут](https://app.sqldbm.com/PostgreSQL/Edit/p263715/)):

- [x] пользователь
- [x] таблица для хранения подписок на других пользователей
- [x] таблица для хранения любимых рецептов
- [x] продукты
  - [x] наименование (англ + рус)
  - [x] КБЖУ на 100г
  - [x] категории (рыба / мясо / молочка / овощи / фрукты ...)
- [x] рецепты
  - [x] наименование блюда
  - [x] кол-во порций - default value
  - [x] КБЖУ на 1 порцию
  - [x] фото финального блюда
  - [x] время приготовления
  - [x] сложность приготовления
  - [x] категории (англ + рус)
    - Рецепты блюд по времени приема пищи: завтрак / обед / ужин / перекус / полдник
    - Рецепты по типу блюд: закуска / десерт / суп / первое блюдо / второе блюдо / напитки / гарнир / салат и т.п.
    - Рецепты с использованием: духовка / плита / микроволновка
    - Рецепты по способу приготовления блюд: выпекать / варить / жарить / тушить
    - Рецепты национальных кухонь: Русская кухня / Французская кухня / Итальянская кухня / Азиатская кухня
    - Основа блюда: мясо / рыба  / овощи / птица / морепродукты / тесто
    - Рецепты блюд по событию: Новый год / Великий пост / Пасха / День благодарения
    - Другое: пп
  - [x] этапы приготовления
    - [x] фото этапов приготовления блюда
    - [x] описание
  - [x] ингредиенты 
    - [x] кол-во ингредиентов на 1 порцию
    - [x] единицы измерений
- [x] список покупок (хранит в себе не только список и кол-во продуктов, которые необходимо купить, но и список блюд и кол-во порций по каждому)
  - [x] продукты
    - название
    - кол-во (сумма по всем рецептам)
    - единицы измерений
  - [x] рецепты
    - названия
    - кол-во порций
- [x] отзывы на рецепты

# h/w #2 (Lesson 2. DBMS components)
- [ ] Добавляем в модель данных дополнительные индексы и ограничения
- [ ] Проводим анализ возможных запросов\отчетов\поиска данных. 
- [ ] Предполагаем возможную кардинальность поля. 
- [ ] Создаем дополнительные индексы - простые или композитные. 
- [ ] На каждый индекс пишем краткое описание зачем он нужен (почему по этому полю\полям). 
- [ ] Думаем какие логические ограничения в БД нужно добавить - например какие поля должны быть уникальны, в какие нужно добавить условия, чтобы не нарушить бизнес логику. Пример - нельзя провести операцию по переводу средств на отрицательную сумму. 
- [ ] Создаем ограничения по выбранным полям

## h/w #3 (Lesson 6. PostgreSQL cluster)
- [x] Развернуть контейнер с PostgreSQL или установить СУБД на виртуальную машину. 
- [x] Запустить сервер. 
- [x] Создать клиента с подключением к базе данных postgres через командную строку. 
- [x] Подключиться к серверу используя pgAdmin или другое аналогичное приложение.

## h/w #4 (Lesson 7. DDL)
- [x] Используя операторы DDL создать:
  - [x] Базу данных 
  - [ ] Табличные пространства
  - [x] Роли
  - [x] Схему данных
  - [x] Таблицы своего проекта, распределив их по схемам
  - [ ] Распределить таблицы по табличным пространствам

## h/w #5 (Lesson 9. DML: вставка, обновление, удаление, выборка данных)

- Написать запрос с конструкциями SELECT, JOIN 
- Написать запрос с добавлением данных INSERT INTO 
- Написать запрос с обновлением данных с UPDATE FROM
- Использовать using для оператора DELETE 

---

- [x] Напишите запрос по своей базе с регулярным выражением, добавьте пояснение, что вы хотите найти
- [x] Напишите запрос по своей базе с использованием LEFT JOIN и INNER JOIN, как порядок соединений в FROM влияет на результат? Почему?
- [x] Напишите запрос на добавление данных с выводом информации о добавленных строках.
- [x] Напишите запрос с обновлением данных используя UPDATE FROM. 
- [x] Напишите запрос для удаления данных с оператором DELETE используя join с другой таблицей с помощью using. 
- [ ] *Приведите пример использования утилиты COPY